language: python
python:
  - "3.6"
  - "3.7"

install:
  - pip install -r requirements.txt -r requirements-dev.txt
  - python setup.py install

script:
  - flake8 fusion_report/
  - mypy fusion_report/
  - fusion_report --help

deploy:
  - provider: pages
    skip_cleanup: true
    github_token: $GITHUB_TOKEN
    local_dir: docs/
    on:
      branch: master
      python: 3.6
